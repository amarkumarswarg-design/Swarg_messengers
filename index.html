<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SWARG PRO | AMAR KUMAR</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tesseract.js/5.0.0/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/browser-image-compression/2.0.2/browser-image-compression.min.js"></script>

    <style>
        :root {
            --neon: #00f3ff;
            --gold: #ffd700;
            --bg: #010103;
            --glass: rgba(12, 12, 22, 0.98);
            --blue-tick: #1da1f2;
            --panel-shadow: 0 0 50px rgba(0, 243, 255, 0.15);
        }

        /* ANDROID OPTIMIZED RESET */
        * { 
            margin: 0; padding: 0; box-sizing: border-box; 
            font-family: 'Rajdhani', sans-serif; 
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        body { 
            background: var(--bg); color: #fff; 
            overflow-x: hidden; min-height: 100vh;
            touch-action: manipulation;
        }

        /* NEURAL BACKGROUND CANVAS */
        #neural-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
        }

        /* SUPREME HEADER SYSTEM */
        header {
            padding: 35px 15px; background: rgba(0,0,0,0.98); 
            border-bottom: 4px solid var(--neon);
            display: flex; flex-direction: column; align-items: center;
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 5px 40px rgba(0, 243, 255, 0.4);
        }

        .swarg-logo {
            font-family: 'Orbitron', sans-serif; font-size: 3.5rem; 
            font-weight: 900; letter-spacing: 15px; color: #fff;
            text-shadow: 0 0 20px var(--neon);
            animation: breathe 3s infinite alternate ease-in-out;
        }

        .identity-row { 
            display: flex; align-items: center; gap: 15px; margin-top: 12px;
        }

        /* AMAR KUMAR INFINITE GLOW */
        .amar-name {
            font-family: 'Orbitron', sans-serif; font-size: 1.6rem; 
            color: var(--gold); text-transform: uppercase; 
            letter-spacing: 4px; font-weight: 900;
            animation: supremeShine 2s infinite alternate cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes supremeShine {
            0% { text-shadow: 0 0 5px var(--gold); opacity: 0.8; }
            50% { text-shadow: 0 0 40px var(--gold), 0 0 80px #fff; opacity: 1; transform: scale(1.05); }
            100% { text-shadow: 0 0 10px var(--gold); opacity: 0.9; }
        }

        .blue-tick {
            width: 28px; height: 28px; background: var(--blue-tick); 
            border-radius: 50%; display: flex; align-items: center; 
            justify-content: center; font-size: 14px; color: white;
            box-shadow: 0 0 20px var(--blue-tick);
            animation: tickPulse 1.5s infinite;
        }

        @keyframes tickPulse {
            0% { transform: scale(1); box-shadow: 0 0 5px var(--blue-tick); }
            50% { transform: scale(1.2); box-shadow: 0 0 30px var(--blue-tick); }
            100% { transform: scale(1); box-shadow: 0 0 5px var(--blue-tick); }
        }

        /* DASHBOARD AND TOOL GRID */
        .container { padding: 40px 15px; max-width: 1200px; margin: 0 auto; }
        .grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); 
            gap: 20px; 
        }

        .card {
            background: var(--glass); border: 1px solid rgba(0, 243, 255, 0.1);
            padding: 40px 15px; border-radius: 30px; text-align: center;
            transition: 0.5s; cursor: pointer; backdrop-filter: blur(20px);
            position: relative; overflow: hidden;
        }

        .card:active { transform: scale(0.95); background: rgba(0, 243, 255, 0.1); }

        .card i { 
            font-size: 3.5rem; display: block; margin-bottom: 20px; 
            filter: drop-shadow(0 0 10px var(--neon));
        }

        .card h3 { 
            font-family: 'Orbitron'; font-size: 0.9rem; 
            letter-spacing: 1px; color: #fff;
        }

        /* WORKSPACE & PANELS */
        #workspace { display: none; animation: slideUp 0.6s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .panel { 
            background: var(--glass); border: 2px solid var(--neon); 
            padding: 30px 20px; border-radius: 35px; 
            box-shadow: var(--panel-shadow); 
        }

        .back-nav { 
            color: var(--neon); font-family: 'Orbitron'; cursor: pointer; 
            margin-bottom: 30px; display: inline-block; font-size: 1.1rem;
            font-weight: bold; padding: 10px;
        }

        /* VISUAL SPLIT SYSTEM */
        .preview-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            gap: 15px; margin-top: 25px; max-height: 450px; overflow-y: auto;
            padding: 15px; background: rgba(0,0,0,0.5); border-radius: 20px;
        }

        .p-item {
            position: relative; border: 3px solid var(--neon); 
            border-radius: 12px; overflow: hidden; transition: 0.3s;
            box-shadow: 0 0 10px var(--neon);
        }

        .p-item.disabled { 
            border-color: #444; opacity: 0.3; 
            box-shadow: none; filter: grayscale(1); 
        }

        /* BUTTONS & INPUTS */
        .btn-supreme {
            width: 100%; padding: 22px; margin-top: 30px; border: none; 
            border-radius: 50px; background: linear-gradient(90deg, #00f3ff, #0055ff); 
            color: #000; font-family: 'Orbitron'; font-weight: 900; 
            font-size: 1.3rem; cursor: pointer;
            box-shadow: 0 10px 25px rgba(0, 243, 255, 0.4);
        }

        .input-supreme { 
            width: 100%; background: #000; border: 1px solid #333; 
            color: #fff; padding: 18px; border-radius: 15px; 
            font-size: 1.1rem; margin-top: 12px; outline: none;
        }

        #status-bar { 
            text-align: center; margin-top: 25px; color: var(--gold); 
            font-size: 1.2rem; font-weight: bold; text-transform: uppercase;
        }

        @keyframes breathe { from { opacity: 0.8; } to { opacity: 1; } }
    </style>
</head>
    <body>

<canvas id="neural-canvas"></canvas>

<header>
    <div class="swarg-logo">SWARG</div>
    <div class="identity-row">
        <span class="amar-name">Amar Kumar</span>
        <div class="blue-tick">‚úî</div>
    </div>
</header>

<div class="container">
    <div id="dashboard-view">
        <p style="text-align:center; color:#666; font-size:1.1rem; letter-spacing:3px; margin-bottom:40px; font-weight:600;">
            PREMIUM PDF ARCHITECTURE V15.0 | 2026 EDITION
        </p>
        
        <div class="grid">
            <div class="card" onclick="initiateTool('img2pdf')">
                <i>üåå</i>
                <h3>BULK IMG TO PDF</h3>
            </div>
            
            <div class="card" onclick="initiateTool('ocr')">
                <i>ü§ñ</i>
                <h3>AI OCR (IMAGE TO TEXT)</h3>
            </div>
            
            <div class="card" onclick="initiateTool('split')">
                <i>‚úÇÔ∏è</i>
                <h3>VISUAL SPLIT (UNSELECT)</h3>
            </div>
            
            <div class="card" onclick="initiateTool('sign')">
                <i>‚úçÔ∏è</i>
                <h3>LEGAL SIGNATURE PAD</h3>
            </div>
            
            <div class="card" onclick="initiateTool('lock')">
                <i>üîí</i>
                <h3>SECURE PDF LOCK</h3>
            </div>
            
            <div class="card" onclick="initiateTool('merge')">
                <i>üîó</i>
                <h3>PRO PDF MERGER</h3>
            </div>
        </div>
    </div>

    <div id="workspace">
        <span class="back-nav" onclick="location.reload()">‚Üê TERMINATE TASK</span>
        <div class="panel">
            <h2 id="active-tool-title" style="font-family:'Orbitron'; color:var(--neon); margin-bottom:30px; text-align:center; font-size:1.8rem;">TOOL NAME</h2>
            <div id="tool-ui-anchor"></div>
            <div id="status-bar">SYSTEM READY...</div>
        </div>
    </div>
</div>

<script>
    // --- 1. NEURAL PARTICLE ENGINE (THE FLOATING DOTS) ---
    const canvas = document.getElementById('neural-canvas');
    const ctx = canvas.getContext('2d');
    let points = [];

    function setupNeuralNetwork() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        points = [];
        // Creating 120 dynamic nodes
        for(let i=0; i<120; i++) {
            points.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                vx: (Math.random() - 0.5) * 0.8,
                vy: (Math.random() - 0.5) * 0.8,
                r: Math.random() * 2.5
            });
        }
    }

    function renderNeuralGrid() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "rgba(0, 243, 255, 0.4)";
        
        points.forEach((p, i) => {
            p.x += p.vx;
            p.y += p.vy;

            // Boundary checks for Android screens
            if(p.x < 0 || p.x > canvas.width) p.vx *= -1;
            if(p.y < 0 || p.y > canvas.height) p.vy *= -1;

            ctx.beginPath();
            ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
            ctx.fill();

            // Connecting lines (Neural Constellations)
            for(let j=i+1; j < points.length; j++) {
                let distance = Math.hypot(p.x - points[j].x, p.y - points[j].y);
                if(distance < 110) {
                    ctx.strokeStyle = `rgba(0, 243, 255, ${1 - distance/110})`;
                    ctx.lineWidth = 0.5;
                    ctx.beginPath();
                    ctx.moveTo(p.x, p.y);
                    ctx.lineTo(points[j].x, points[j].y);
                    ctx.stroke();
                }
            }
        });
        requestAnimationFrame(renderNeuralGrid);
    }

    // Initialize Engine
    window.addEventListener('resize', setupNeuralNetwork);
    setupNeuralNetwork();
    renderNeuralGrid();

    // --- 2. GLOBAL NAVIGATION CONTROLLER ---
    function initiateTool(id) {
        document.getElementById('dashboard-view').style.display = 'none';
        const ws = document.getElementById('workspace');
        ws.style.display = 'block';
        window.scrollTo(0, 0);
        
        // Tool specific loaders will be in Part 3
        loadToolInterface(id);
    }
</script>
            // --- 3. DYNAMIC TOOL INTERFACE LOADER ---
    function loadToolInterface(id) {
        const title = document.getElementById('active-tool-title');
        const ui = document.getElementById('tool-ui-anchor');
        const status = document.getElementById('status-bar');
        
        ui.innerHTML = ""; // Clearing previous tool data
        status.innerText = "INITIALIZING SYSTEM...";

        if(id === 'img2pdf') {
            title.innerText = "BULK IMAGES TO PDF";
            ui.innerHTML = `
                <div class="input-group">
                    <label>Select up to 1000+ Images:</label>
                    <input type="file" id="targetFiles" multiple accept="image/*" class="input-supreme">
                </div>
                <button class="btn-supreme" onclick="processImages()">CONSTRUCT PDF</button>
            `;
        } else if(id === 'ocr') {
            title.innerText = "AI OCR (IMAGE TO TEXT)";
            ui.innerHTML = `
                <div class="input-group">
                    <label>Upload Document Image:</label>
                    <input type="file" id="ocrFile" accept="image/*" class="input-supreme">
                </div>
                <button class="btn-supreme" onclick="processOCR()">EXTRACT & SAVE</button>
            `;
        } else if(id === 'split') {
            title.innerText = "VISUAL SPLITTER (INVERTED)";
            ui.innerHTML = `
                <div class="input-group">
                    <label>Upload PDF to Analyze:</label>
                    <input type="file" id="splitFile" accept=".pdf" class="input-supreme" onchange="renderSplitPreview(this)">
                </div>
                <div id="split-grid" class="preview-grid"></div>
                <button class="btn-supreme" onclick="processSplit()">EXTRACT REMAINING</button>
            `;
        } else if(id === 'sign') {
            title.innerText = "LEGAL SIGNATURE PAD";
            ui.innerHTML = `
                <div class="input-group">
                    <label>Draw Your Signature:</label>
                    <div style="background:#fff; border-radius:20px; overflow:hidden; border:4px solid var(--gold);">
                        <canvas id="signature-pad" style="width:100%; height:300px; cursor:crosshair;"></canvas>
                    </div>
                    <button class="btn-supreme" onclick="clearPad()" style="background:#333; color:#fff; font-size:1rem; margin-top:10px;">CLEAR SIGN</button>
                </div>
                <div class="input-group" style="margin-top:20px;">
                    <label>Attach to PDF File:</label>
                    <input type="file" id="signFile" accept=".pdf" class="input-supreme">
                </div>
                <button class="btn-supreme" onclick="processSignature()">STAMP & EXPORT</button>
            `;
            initSignaturePad();
        } else if(id === 'lock') {
            title.innerText = "PDF PASSWORD LOCK";
            ui.innerHTML = `
                <div class="input-group">
                    <label>Select PDF to Secure:</label>
                    <input type="file" id="lockFile" accept=".pdf" class="input-supreme">
                    <label style="margin-top:15px;">Set Master Password:</label>
                    <input type="text" id="pdfPass" class="input-supreme" placeholder="Enter Secret Code">
                </div>
                <button class="btn-supreme" onclick="processLock()">ENCRYPT FILE</button>
            `;
        } else if(id === 'merge') {
            title.innerText = "PRO PDF MERGER";
            ui.innerHTML = `
                <div class="input-group">
                    <label>Select Multiple PDFs (In Sequence):</label>
                    <input type="file" id="mergeFiles" multiple accept=".pdf" class="input-supreme">
                </div>
                <button class="btn-supreme" onclick="processMerge()">MERGE INTO ONE</button>
            `;
        }
    }

    // --- 4. VISUAL SPLITTER LOGIC (THE HEART OF SWARG) ---
    let selectedIndices = new Set();

    async function renderSplitPreview(input) {
        const grid = document.getElementById('split-grid');
        const status = document.getElementById('status-bar');
        const file = input.files[0];
        
        if(!file) return;
        status.innerText = "DECRYPTING PDF PAGES...";
        grid.innerHTML = "";
        selectedIndices.clear();

        const arrayBuffer = await file.arrayBuffer();
        const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;
        
        for(let i=1; i<=pdf.numPages; i++) {
            selectedIndices.add(i-1); // ALL SELECTED BY DEFAULT
            const page = await pdf.getPage(i);
            const viewport = page.getViewport({scale: 0.4});
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.height = viewport.height;
            canvas.width = viewport.width;

            await page.render({canvasContext: context, viewport: viewport}).promise;

            const div = document.createElement('div');
            div.className = "p-item"; // Visual state: Active (Blue Border)
            div.innerHTML = `<span style="position:absolute; top:5px; left:5px; background:var(--neon); color:#000; font-weight:bold; padding:2px 8px; border-radius:5px; font-size:12px;">${i}</span>`;
            div.appendChild(canvas);
            
            div.onclick = () => {
                div.classList.toggle('disabled');
                if(selectedIndices.has(i-1)) {
                    selectedIndices.delete(i-1);
                } else {
                    selectedIndices.add(i-1);
                }
                status.innerText = `${selectedIndices.size} PAGES SELECTED FOR EXTRACTION`;
            };
            grid.appendChild(div);
        }
        status.innerText = `TOTAL ${pdf.numPages} PAGES LOADED. TAP TO UNSELECT.`;
    }

    // --- 5. SIGNATURE PAD INITIALIZER ---
    function initSignaturePad() {
        const canvas = document.getElementById('signature-pad');
        signaturePad = new SignaturePad(canvas, {
            backgroundColor: 'rgb(255, 255, 255)',
            penColor: 'rgb(0, 0, 0)'
        });
        
        // Auto-resize for Android Orientation
        const ratio = Math.max(window.devicePixelRatio || 1, 1);
        canvas.width = canvas.offsetWidth * ratio;
        canvas.height = canvas.offsetHeight * ratio;
        canvas.getContext("2d").scale(ratio, ratio);
        signaturePad.clear();
    }

    function clearPad() {
        if(signaturePad) signaturePad.clear();
    }
        </script>
            
        
